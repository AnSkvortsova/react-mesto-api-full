{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/dev/mesto-react/src/components/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { Footer } from './Footer';\nimport { Header } from './Header';\nimport { Main } from './Main';\nimport { EditProfilePopup } from './EditProfilePopup';\nimport { AddPlacePopup } from './AddPlacePopup';\nimport { EditAvatarPopup } from './EditAvatarPopup';\nimport { ImagePopup } from './ImagePopup';\nimport { ConfirmPopup } from './ConfirmPopup';\nimport { api } from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  // попапы\n  const [isEditProfilePopupOpen, setEditProfileState] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlaceState] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarState] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [isConfirmPopupOpen, setConfirmPopupState] = useState(false); // пользователь\n\n  const [currentUser, setCurrentUserState] = useState({});\n  useEffect(() => {\n    api.getUserInfo().then(userData => {\n      setCurrentUserState(userData);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  function handleUpdateUser({\n    name,\n    about\n  }) {\n    api.pushUserInfo({\n      name,\n      about\n    }).then(result => {\n      setCurrentUserState(result);\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    });\n  } // открытие и закрытие попапов\n\n\n  function handleEditProfileClick() {\n    setEditProfileState(true);\n  }\n\n  ;\n\n  function handleAddPlaceClick() {\n    setAddPlaceState(true);\n  }\n\n  ;\n\n  function handleEditAvatarClick() {\n    setEditAvatarState(true);\n  }\n\n  ;\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  ;\n\n  function handleDeleteClick() {\n    setConfirmPopupState(true);\n  }\n\n  ;\n\n  function closeAllPopups() {\n    setEditProfileState(false);\n    setAddPlaceState(false);\n    setEditAvatarState(false);\n    setSelectedCard(null);\n    setConfirmPopupState(false);\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Main, {\n        onEditProfile: handleEditProfileClick,\n        onAddPlace: handleAddPlaceClick,\n        onEditAvatar: handleEditAvatarClick,\n        onCardClick: handleCardClick,\n        onDeleteClick: handleDeleteClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(EditProfilePopup, {\n        isOpen: isEditProfilePopupOpen,\n        onClose: closeAllPopups,\n        onUpdateUser: handleUpdateUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(AddPlacePopup, {\n        isOpen: isAddPlacePopupOpen,\n        onClose: closeAllPopups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(EditAvatarPopup, {\n        isOpen: isEditAvatarPopupOpen,\n        onClose: closeAllPopups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n        card: !!selectedCard && selectedCard,\n        onClose: closeAllPopups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmPopup, {\n        isOpen: isConfirmPopupOpen,\n        onClose: closeAllPopups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"r131gPMd2B7EFoBX29DFKLljzoo=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/mac/Documents/dev/mesto-react/src/components/App.js"],"names":["useState","useEffect","Footer","Header","Main","EditProfilePopup","AddPlacePopup","EditAvatarPopup","ImagePopup","ConfirmPopup","api","CurrentUserContext","App","isEditProfilePopupOpen","setEditProfileState","isAddPlacePopupOpen","setAddPlaceState","isEditAvatarPopupOpen","setEditAvatarState","selectedCard","setSelectedCard","isConfirmPopupOpen","setConfirmPopupState","currentUser","setCurrentUserState","getUserInfo","then","userData","catch","err","console","log","handleUpdateUser","name","about","pushUserInfo","result","closeAllPopups","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","card","handleDeleteClick"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { Footer } from './Footer';\nimport { Header } from './Header';\nimport { Main } from './Main';\nimport { EditProfilePopup } from './EditProfilePopup';\nimport { AddPlacePopup } from './AddPlacePopup';\nimport { EditAvatarPopup } from './EditAvatarPopup';\nimport { ImagePopup } from './ImagePopup';\nimport { ConfirmPopup } from './ConfirmPopup';\nimport { api } from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  // попапы\n  const [isEditProfilePopupOpen, setEditProfileState] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlaceState] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarState] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [isConfirmPopupOpen, setConfirmPopupState] = useState(false);\n  \n  // пользователь\n  const [currentUser, setCurrentUserState] = useState({});\n\n  useEffect(() => {\n    \n      api.getUserInfo()\n    \n    .then((userData) => {\n      setCurrentUserState(userData);\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }, []);\n\n  function handleUpdateUser ({name, about}) {\n    api.pushUserInfo({name, about})\n    .then((result) => {\n      setCurrentUserState(result);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n\n  // открытие и закрытие попапов\n  function handleEditProfileClick() {\n    setEditProfileState(true);\n  };\n  function handleAddPlaceClick() {\n    setAddPlaceState(true);\n  };\n  function handleEditAvatarClick() {\n    setEditAvatarState(true);\n  };\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  };\n  function handleDeleteClick() {\n    setConfirmPopupState(true);\n  };\n\n  function closeAllPopups() {\n    setEditProfileState(false);\n    setAddPlaceState(false);\n    setEditAvatarState(false);\n    setSelectedCard(null);\n    setConfirmPopupState(false);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"page\">\n      <Header />\n\n      <Main \n      onEditProfile = {handleEditProfileClick} \n      onAddPlace = {handleAddPlaceClick}\n      onEditAvatar = {handleEditAvatarClick}\n      onCardClick = {handleCardClick}\n      onDeleteClick = {handleDeleteClick}\n      />\n\n      <Footer />\n\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n      <ImagePopup card={!!selectedCard && selectedCard} onClose={closeAllPopups} />\n      <ConfirmPopup isOpen={isConfirmPopupOpen} onClose={closeAllPopups} />\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}