{"version":3,"sources":["components/Footer.js","images/logo.svg","components/Header.js","images/pencil.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/ConfirmPopup.js","utils/api.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","className","Header","props","useState","isOpen","setOpenState","src","logoPath","alt","path","to","type","onClick","userEmail","onLogout","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onCardClick","onDeleteClick","onCardLike","length","Main","onEditAvatar","avatar","pencilPath","onEditProfile","about","onAddPlace","cards","map","onCardDelete","PopupWithForm","id","onClose","title","onSubmit","children","button","EditProfilePopup","userName","setUserName","userDescription","setUserDescription","useEffect","evt","preventDefault","onUpdateUser","minLength","maxLength","value","onChange","target","required","AddPlacePopup","place","setPlace","setLink","placeholder","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","ImagePopup","ConfirmPopup","api","options","this","_baseUrl","baseUrl","_headers","headers","response","ok","json","Promise","reject","status","fetch","then","_checkResult","data","method","body","JSON","stringify","isLike","Register","email","password","register","setRegisterState","handleInputChange","onRegisterSubmit","Login","login","setLoginState","onLoginSubmit","ProtectedRoute","isLoggedIn","restProps","InfoTooltip","isInfoTooltip","BASE_URL","checkResult","App","history","useHistory","isEditProfilePopupOpen","setEditProfileState","isAddPlacePopupOpen","setAddPlaceState","isEditAvatarPopupOpen","setEditAvatarState","selectedCard","setSelectedCard","removedCard","setRemovedCard","isInfoTooltipOpen","setInfoTooltipState","infoTooltip","setInfoTooltip","setCurrentUserState","setUserEmail","setCardsState","loggedIn","setLoggedInState","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","handleDeleteClick","closeAllPopups","handleCardLike","setLikeCard","newCard","state","c","catch","err","console","log","handleCardDelete","removeCard","filter","item","closeByEscape","key","document","addEventListener","removeEventListener","closeByOverlay","classList","contains","all","getUserInfo","getInitialCards","userData","cardData","token","jwt","localStorage","getItem","res","push","Provider","removeItem","auth","setItem","render","pushUserInfo","result","pushNewCard","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9bb0d12a.chunk.js","sourcesContent":["export function Footer() {\n  return (\n    <footer className=\"footer page__section\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n}","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import { useState } from 'react';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport logoPath from '../images/logo.svg';\n\nexport function Header(props) {\n  const [isOpen, setOpenState] = useState(false);\n  function heandleMenuButton() {\n    setOpenState(true);\n  };\n\n  function heandleCloseButton() {\n    setOpenState(false);\n  };\n\n  return(\n    <header className=\"header page__section\">\n      <div className=\"header__line\"></div>\n      <img className=\"logo\" src={logoPath} alt=\"логотип\" />\n      <Switch>\n        <Route path=\"/signin\">\n          <Link to=\"/signup\" className=\"header__link\">Регистрация</Link>\n        </Route>\n\n        <Route path=\"/signup\">\n          <Link to=\"/signin\" className=\"header__link\">Войти</Link>\n        </Route>\n\n        <Route path=\"/\">\n          <>\n            <button className={`header__menu ${isOpen ? 'header__menu_hidden' : ''}`} type=\"button\" aria-label=\"меню\" onClick={heandleMenuButton}></button>\n            <button className={`header__menu-close ${!isOpen ? 'header__menu-close_hidden' : ''}`} type=\"button\" aria-label=\"закрыть меню\" onClick={heandleCloseButton}></button>\n            <div className={`header__container ${isOpen ? 'header__container_mobile' : ''}`}>\n              <p className=\"header__email\">{props.userEmail}</p>\n              <Link to=\"/signin\" className=\"header__link-out\" onClick={props.onLogout} >Выйти</Link>\n            </div>\n          </>\n        </Route>\n      </Switch>\n    </header>\n  );\n}","export default __webpack_public_path__ + \"static/media/pencil.a086f758.svg\";","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport function Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (`element__trash ${isOwn ? '' : 'element__trash_hidden'}`);\n\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (`element__heart ${isLiked ? 'element__heart_active' : ''}`);\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  };\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  };\n\n  function handletDeleteClick() {\n    props.onDeleteClick(props.card);\n  }\n  \n  return(\n    <article className=\"element\">\n      <img className=\"element__image\" src={props.card.link}   alt={props.card.name} onClick={handleClick} />\n      <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"удалить\" onClick={handletDeleteClick} ></button>\n      <div className=\"element__bottom\">\n        <h2 className=\"element__text\">{props.card.name}</h2>\n        <div className=\"element__likes\">\n          <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"отметить как нравиться\" onClick={handleLikeClick}></button>\n          <p className=\"element__number\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  );\n}","import React from 'react';\nimport pencilPath from '../images/pencil.svg';\nimport { Card } from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport function Main(props) {\n  \n  const currentUser = React.useContext(CurrentUserContext);\n\n  return(\n    <main className=\"main\">\n      <section className=\"profile page__section\">\n        <div className=\"profile__box\">\n          <div className=\"profile__avatar\" onClick={props.onEditAvatar}>\n            <img className=\"profile__image\" alt=\"Аватар\" src={currentUser.avatar} />\n            <img className=\"profile__pencil\" src={pencilPath} alt=\"Карандаш\" />\n          </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__row\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button className=\"profile__edit-button\" type=\"button\" aria-label=\"редактировать\" onClick={props.onEditProfile}></button>\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" aria-label=\"добавить\" onClick={props.onAddPlace}></button>\n        </div>\n      </section>\n\n      <section className=\"elements page__section\">\n        {props.cards.map((card) => (\n            <Card \n            key={card._id}\n            card={card} \n            onCardClick={props.onCardClick} \n            onDeleteClick={props.onDeleteClick} \n            onCardLike={props.onCardLike} \n            onCardDelete={props.onCardDelete} />\n        ))}\n      </section>\n\n    </main>\n  );\n}","export function PopupWithForm(props) { \n \n  return( \n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opend' : ''}`}> \n        <div className=\"popup__container\" id={`popup__${props.name}-container`}> \n          <button className=\"popup__close\" id={`popup__${props.name}-close`} type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button> \n          <h2 className=\"popup__title\">{props.title}</h2> \n          <form className=\"popup__form\" name={props.name} onSubmit={props.onSubmit} > \n            { props.children } \n            <button className=\"popup__submit\" id={`popup__submit-${props.name}`} type=\"submit\" aria-label=\"сохранить\">{props.button}</button> \n          </form> \n        </div> \n    </div> \n  ); \n} ","import React, { useState, useEffect } from \"react\"; \nimport { PopupWithForm } from \"./PopupWithForm\"; \nimport { CurrentUserContext } from '../contexts/CurrentUserContext'; \n \nexport function EditProfilePopup(props) { \n  const currentUser = React.useContext(CurrentUserContext); \n \n  const [userName, setUserName] = useState(''); \n  const [userDescription, setUserDescription] = useState(''); \n \n  useEffect(() => { \n    setUserName(currentUser.name); \n    setUserDescription(currentUser.about); \n  }, [currentUser, props.isOpen]); \n \n  function handleChangeName(evt) { \n    setUserName(evt.target.value) \n  }; \n  function handleChangeDescription(evt) { \n    setUserDescription(evt.target.value) \n  }; \n  function handleSubmit(evt) { \n    evt.preventDefault(); \n    props.onUpdateUser({ \n      name: userName, \n      about: userDescription, \n    }) \n  }; \n \n  return( \n    <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" button=\"Сохранить\"  \n    isOpen={props.isOpen}  \n    onClose={props.onClose} \n    onSubmit={handleSubmit} > \n \n      <input className=\"popup__input\" minLength=\"2\" maxLength=\"40\" id=\"input-name\" name=\"userName\" type=\"text\"  \n      value={userName || ''}  \n      onChange={handleChangeName}  \n      required /> \n      <span className=\"popup__input-error\" id=\"input-name-error\"></span> \n       \n      <input className=\"popup__input\" minLength=\"2\" maxLength=\"200\" id=\"input-job\" name=\"userJob\" type=\"text\"  \n      value={userDescription || ''}  \n      onChange={handleChangeDescription}  \n      required /> \n      <span className=\"popup__input-error\" id=\"input-job-error\"></span> \n    </PopupWithForm> \n  );  \n} ","import React, { useState } from \"react\";\nimport { PopupWithForm } from \"./PopupWithForm\";\n\nexport function AddPlacePopup(props) {\n  const [place, setPlace] = useState('');\n  const [link, setLink] = useState('');\n\n  function handleChangePlace(evt) {\n    setPlace(evt.target.value);\n  };\n\n  function handleChangeLink(evt) {\n    setLink(evt.target.value);\n  };\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onAddPlace({\n      name: place,\n      link,\n    });\n    setPlace('');\n    setLink('');\n  };\n\n  return(\n    <PopupWithForm name=\"add\" title=\"Новое место\" button=\"Добавить\" \n    isOpen={props.isOpen} \n    onClose={props.onClose}\n    onSubmit={handleSubmit} >\n      \n      <input className=\"popup__input\" minLength=\"2\" maxLength=\"30\" id=\"input-place\" name=\"name\" type=\"text\" placeholder=\"Название\" \n      value={place} \n      onChange={handleChangePlace} \n      required />\n      <span className=\"popup__input-error\" id=\"input-place-error\"></span>\n\n      <input className=\"popup__input\" id=\"input-link\" name=\"link\" type=\"url\" placeholder=\"Ссылка на картинку\" \n      value={link}  \n      onChange={handleChangeLink} \n      required />\n      <span className=\"popup__input-error\" id=\"input-link-error\"></span>\n    </PopupWithForm>\n  );\n}","import React, { useRef } from \"react\";\nimport { PopupWithForm } from \"./PopupWithForm\";\n\nexport function EditAvatarPopup(props) {\n  const avatarRef = useRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    })\n  }\n\n  return(\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" button=\"Сохранить\" \n    isOpen={props.isOpen} \n    onClose={props.onClose}\n    onSubmit={handleSubmit} >\n      <input className=\"popup__input\" id=\"input-avatar\" name=\"avatar\" type=\"url\" placeholder=\"Ссылка\" ref={avatarRef} required />\n      <span className=\"popup__input-error\" id=\"input-avatar-error\"></span>\n    </PopupWithForm>\n  );\n}","export function ImagePopup(props) {\n  \n  return(\n    <div className={`popup popup_type_image ${props.card ? 'popup_opend' : ''}`} >\n        <div className=\"popup__img-container\">\n          <button className=\"popup__close\" id=\"popup__img-close\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button>\n          <figure className=\"popup__figure\">\n            <img className=\"popup__image-big\" src={props.card.link}  alt={props.card.name} />\n            <figcaption className=\"popup__text\">{props.card.name}</figcaption>\n          </figure>\n        </div>\n      </div>\n  );\n}","import { PopupWithForm } from \"./PopupWithForm\";\nexport function ConfirmPopup(props) {\n\n  function handleConfirm(evt) {\n    evt.preventDefault();\n    props.onCardDelete(props.isOpen);\n  };\n\n  return(\n    <PopupWithForm name=\"delete\" title=\"Вы уверены?\" button=\"Да\" \n    isOpen={props.isOpen} \n    onClose={props.onClose}\n    onSubmit={handleConfirm} >\n    </PopupWithForm>\n  );\n}","class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _checkResult(response) {\n    if(response.ok) {\n      return response.json();\n    };\n    return Promise.reject(`Ошибка: ${response.status}`);\n  };\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    })\n    .then(response => this._checkResult(response));\n  };\n\n  pushUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      })\n    })\n    .then(response => this._checkResult(response));\n  };\n  \n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    })\n    .then(response => this._checkResult(response));\n  };\n\n  pushNewCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      })\n    })\n    .then(response => this._checkResult(response));\n  };\n\n  setLikeCard(id, isLike) {\n    const status = isLike ? 'DELETE' : 'PUT'\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: status,\n      headers: this._headers,\n    })\n    .then(response => this._checkResult(response));\n  };\n\n  removeCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(response => this._checkResult(response));\n  };\n\n  updateAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      })\n    })\n    .then(response => this._checkResult(response));\n  }\n}\n\nconst options = {\n  baseUrl: 'http://localhost:3000',\n  headers: {\n    'Content-Type': 'application/json',\n  }\n}\nconst api = new Api(options);\nexport default api;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport function Register(props) {\n  const [register, setRegisterState] = useState({\n    email: '',\n    password: '',\n  });\n\n  const { email, password } = register;\n\n  function handleInputChange(evt) {\n    const {name, value} = evt.target;\n    setRegisterState({...register, [name]: value});\n  };\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onRegisterSubmit(password, email);\n    setRegisterState({\n      email: '',\n      password: '',\n    })\n  };\n\n  return( \n    <div className=\"auth\"> \n      <h2 className=\"auth__title\">Регистрация</h2>\n      <form className=\"auth__form\" onSubmit={handleSubmit}>\n        <div className=\"auth__inputs-container\">\n\n        <input className=\"auth__input\" type=\"text\" \n        name=\"email\" \n        value={email || ''} \n        onChange={handleInputChange}\n        placeholder=\"Email\"></input>\n\n        <input className=\"auth__input\" type=\"text\" \n        name=\"password\" \n        value={password || ''} \n        onChange={handleInputChange}\n        placeholder=\"Пароль\"></input>\n\n        </div>\n        <button className=\"auth__button\" type=\"submit\" aria-label=\"Зарегистрироваться\">Зарегистрироваться</button>\n      </form>\n      <div className=\"auth__link-container\">\n        <Link to=\"/signin\" className=\"auth__link\">Уже зарегистрированы? Войти</Link>\n      </div>\n    </div> \n  ); \n}","import React, { useState } from 'react';\n\nexport function Login(props) {\n  const [login, setLoginState] = useState({\n    email: '',\n    password: '',\n  });\n\n  const { email, password } = login;\n\n  function handleInputChange(evt) {\n    const {name, value} = evt.target;\n    setLoginState({...login, [name]: value});\n  };\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onLoginSubmit(password, email);\n    setLoginState({\n      email: '',\n      password: '',\n    });\n  };\n\n  return( \n    <div className=\"auth\"> \n      <h2 className=\"auth__title\">Вход</h2>\n      <form className=\"auth__form\" onSubmit={handleSubmit}>\n        <div className=\"auth__inputs-container\">\n\n          <input className=\"auth__input\" type=\"text\" \n          name=\"email\"\n          value={email || ''}\n          onChange={handleInputChange}\n          placeholder=\"Email\"></input>\n\n          <input className=\"auth__input\" type=\"text\" \n          name=\"password\" \n          value={password || ''}\n          onChange={handleInputChange}\n          placeholder=\"Пароль\"></input>\n\n        </div>\n        <button className=\"auth__button\" type=\"submit\" aria-label=\"Зарегистрироваться\">Войти</button>\n      </form>\n    </div> \n  );\n}","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport function ProtectedRoute({ isLoggedIn, ...restProps}) {\n  if(!isLoggedIn){\n    return <Redirect to=\"/signin\" />\n  }\n  return <Route {...restProps}></Route> \n  \n};","export function InfoTooltip(props) {\n  \n  return(\n    <div className={`popup popup_type_register ${props.isOpen ? 'popup_opend' : ''}`}>\n      <div className=\"popup__container\">\n        <button className=\"popup__close\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose}></button>\n        <div className={`popup__register ${props.isInfoTooltip ? 'popup__register_done' : 'popup__register_error'}`}></div>\n        <h2 className=\"popup__title popup__title_register\">\n          {props.isInfoTooltip ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\n        </h2>\n      </div>\n    </div>\n  )\n}","export const BASE_URL = 'http://localhost:3000';\n\nconst checkResult = (response) => response.ok \n? response.json() \n: Promise.reject(`Ошибка: ${response.status}`);\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify({password, email}),\n\t}).then((response) => checkResult(response));\n};\n\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify({password, email}),\n\t}).then((response) => checkResult(response));\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\" : `Bearer ${token}`,\n    },\n  })\n  .then((response) => checkResult(response))\n};","import { useState, useEffect } from 'react'; \nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport { Footer } from './Footer'; \nimport { Header } from './Header'; \nimport { Main } from './Main'; \nimport { EditProfilePopup } from './EditProfilePopup'; \nimport { AddPlacePopup } from './AddPlacePopup'; \nimport { EditAvatarPopup } from './EditAvatarPopup'; \nimport { ImagePopup } from './ImagePopup'; \nimport { ConfirmPopup } from './ConfirmPopup'; \nimport api from '../utils/api'; \nimport { CurrentUserContext } from '../contexts/CurrentUserContext'; \nimport { Register } from './Register';\nimport { Login } from './Login';\nimport { ProtectedRoute } from './ProtectedRoute'; \nimport { InfoTooltip } from './InfoTooltip';\nimport * as auth from '../utils/auth';\n \nfunction App() { \n  const history = useHistory();\n\n  // попапы \n  const [isEditProfilePopupOpen, setEditProfileState] = useState(false); \n  const [isAddPlacePopupOpen, setAddPlaceState] = useState(false); \n  const [isEditAvatarPopupOpen, setEditAvatarState] = useState(false); \n  const [selectedCard, setSelectedCard] = useState(null); \n  const [removedCard, setRemovedCard] = useState(null); \n  const [isInfoTooltipOpen, setInfoTooltipState] = useState(false);\n  const [infoTooltip, setInfoTooltip] = useState(false);\n \n  // пользователь и карточки \n  const [currentUser, setCurrentUserState] = useState({}); \n  const [userEmail, setUserEmail] = useState('');\n  const [cards, setCardsState] = useState([]); \n\n  // регистрация\n  const [loggedIn, setLoggedInState] = useState(false);\n \n  // открытие и закрытие попапов \n  function handleEditProfileClick() { \n    setEditProfileState(true); \n  }; \n  function handleAddPlaceClick() { \n    setAddPlaceState(true); \n  }; \n  function handleEditAvatarClick() { \n    setEditAvatarState(true); \n  }; \n  function handleCardClick(card) { \n    setSelectedCard(card); \n  }; \n  function handleDeleteClick(card) { \n    setRemovedCard(card); \n  }; \n \n  function closeAllPopups() { \n    setEditProfileState(false); \n    setAddPlaceState(false); \n    setEditAvatarState(false); \n    setSelectedCard(null); \n    setRemovedCard(null); \n    setInfoTooltipState(false);\n  }; \n   \n  // обработчик Escape и overlay\n  useEffect(() => {\n    const closeByEscape = (evt) => {\n      if(evt.key === 'Escape') {\n        closeAllPopups();\n      };\n    };\n    document.addEventListener('keydown', closeByEscape);\n    return () => document.removeEventListener('keydown', closeByEscape);\n  }, []);\n\n  useEffect(() => {\n    const closeByOverlay = (evt) => {\n      if(evt.target.classList.contains('popup_opend')) {\n        closeAllPopups();\n      };\n    };\n    document.addEventListener('click', closeByOverlay);\n    return () => document.removeEventListener('click', closeByOverlay);\n  }, []);\n \n  useEffect(() => { \n    Promise.all([ \n      api.getUserInfo(), \n      api.getInitialCards(), \n    ]) \n    .then(([userData, cardData]) => { \n      setCurrentUserState(userData); \n      setCardsState(cardData); \n    }) \n    .catch((err) => { \n      console.log(err) \n    }) \n  }, []); \n \n  // пользователь \n  function handleUpdateUser (data) { \n    api.pushUserInfo(data) \n    .then((result) => { \n      setCurrentUserState(result); \n      closeAllPopups(); \n    }) \n    .catch((err) => { \n      console.log(err) \n    }) \n  }; \n \n  function handleUpdateAvatar(data) { \n    api.updateAvatar(data) \n    .then((result) => { \n      setCurrentUserState(result); \n      closeAllPopups(); \n    }) \n    .catch((err) => { \n      console.log(err) \n    }) \n  }; \n \n  // карточки \n  function handleAddPlaceSubmit(data) { \n    api.pushNewCard(data) \n    .then((newCard) => { \n      setCardsState([newCard, ...cards]); \n      closeAllPopups(); \n    }) \n    .catch((err) => { \n      console.log(err) \n    }) \n  }; \n \n  function handleCardLike(card) { \n    const isLiked = card.likes.some(i => i._id === currentUser._id); \n    api.setLikeCard(card._id, isLiked) \n    .then((newCard) => { \n      setCardsState((state) => state.map((c) => c._id === card._id ? newCard : c)); \n    }) \n    .catch((err) => { \n      console.log(err) \n    }); \n  }; \n \n  function handleCardDelete(card) { \n    api.removeCard(card._id) \n    .then(() => { \n      setCardsState((state) => state.filter(item => item._id !== card._id)); \n      closeAllPopups(); \n    }) \n    .catch((err) => { \n      console.log(err) \n    }); \n  }; \n\n  // подтверждение регистрации\n  function handleRegisterSubmit(password, email) {\n    auth.register(password, email)\n    .then((data) => {\n      setInfoTooltipState(true);\n      if(data) {\n        setInfoTooltip(true);\n        history.push('/signin');\n      } else {\n        setInfoTooltip(false);\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  };\n\n  // вход \n  function handleLoginSubmit(password, email) {\n    setUserEmail(email);\n    auth.authorize(password, email)\n    .then((data) => {\n      if(data.token) {\n        setLoggedInState(true);\n        localStorage.setItem('jwt', data.token);\n        history.push('/');\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  };\n\n  // проверка токена\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if(jwt) {\n      auth.getContent(jwt)\n      .then((res) => {\n        if(res) {\n          setLoggedInState(true);\n          setUserEmail(res.data.email);\n          history.push('/');\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n    }\n  }, [loggedIn, history]);\n\n  //выход\n  function handleLogout() {\n    localStorage.removeItem('jwt');\n    setLoggedInState(false);\n    setUserEmail('');\n    history.push('/signin');\n  }\n\n \n  return ( \n    <CurrentUserContext.Provider value={currentUser}> \n    <div className=\"page\"> \n      <Header \n      userEmail={userEmail}\n      onLogout={handleLogout} /> \n\n      <Switch>\n        <Route path=\"/signup\">\n          <Register \n          onRegisterSubmit = {handleRegisterSubmit}\n          />\n        </Route>\n\n        <Route path=\"/signin\">\n          <Login\n          onLoginSubmit = {handleLoginSubmit} \n          />\n        </Route>\n\n        <ProtectedRoute\n          isLoggedIn = {loggedIn} path = \"/\" render = {() => {\n            return <Main  \n            onEditProfile = {handleEditProfileClick}  \n            onAddPlace = {handleAddPlaceClick} \n            onEditAvatar = {handleEditAvatarClick} \n            cards = {cards} \n            onCardClick = {handleCardClick} \n            onCardLike = {handleCardLike} \n            onDeleteClick = {handleDeleteClick} \n            onCardDelete = {handleCardDelete} />;\n          }} />\n      </Switch>\n \n      <Footer /> \n \n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} /> \n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} /> \n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} /> \n      <ImagePopup card={!!selectedCard && selectedCard} onClose={closeAllPopups} /> \n      <ConfirmPopup isOpen={removedCard} onClose={closeAllPopups} onCardDelete={handleCardDelete} /> \n      <InfoTooltip isOpen={isInfoTooltipOpen} onClose={closeAllPopups} isInfoTooltip={infoTooltip} />\n    </div> \n    </CurrentUserContext.Provider> \n  ); \n} \n \nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}